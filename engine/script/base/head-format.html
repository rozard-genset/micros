<!-- globvar -->
{{- $themes := partial "lib/system/themes.html" . -}}
{{- $sected := partial "lib/system/module.html" . -}}

{{- $format := partial "lib/format/medias.html" . -}}
{{- $models := partial "lib/format/models.html" . -}}


<!-- fallback -->
{{- $link_css := printf "scripts/format/article/main/css/head.scss" -}}
{{- $link_jsx := printf "scripts/format/article/main/jsx/head.js"   -}}


{{- if .Page.Params.Format.Model -}}

    {{- $cores_css := printf "scripts/format/%s/main/css/head.scss" $format -}}
    {{- $cores_jsx := printf "scripts/format/%s/main/jsx/head.js"   $format -}}

    {{- $based_css := printf "scripts/format/%s/%s/css/head.scss" $format $models -}}
    {{- $based_jsx := printf "scripts/format/%s/%s/jsx/head.js"   $format $models -}}

    {{- $themes_css := printf "scripts/themes/%s/format/%s/%s/css/head.scss" $themes $format $models -}}
    {{- $themes_jsx := printf "scripts/themes/%s/format/%s/%s/jsx/head.js"   $themes $format $models -}}

    {{- $module_css := printf "scripts/%s/format/%s/%s/css/head.scss" $sected $format $models -}}
    {{- $module_jsx := printf "scripts/%s/format/%s/%s/jsx/head.js"   $sected $format $models -}}

    {{- $models_css := printf "scripts/themes/%s/sected/%s/format/%s/%s/css/head.scss" $themes $sected $format $models -}}
    {{- $models_jsx := printf "scripts/themes/%s/sected/%s/format/%s/%s/jsx/head.js"   $themes $sected $format $models -}}
    
    
    <!-- appended -->
    {{- range ( slice $cores_css $based_css $themes_css $module_css $models_css ) -}}
        {{- with resources.Get . -}}{{- $link_css = . -}}{{- end -}}
    {{- end -}}

    {{- range ( slice $cores_jsx $based_jsx $themes_jsx $module_jsx $models_jsx ) -}}
        {{- with resources.Get . -}}{{- $link_jsx = . -}}{{- end -}}
    {{- end -}}

{{- end -}}


{{- .Store.Add "head_css" $link_css -}}
{{- .Store.Add "head_jsx" $link_jsx -}}