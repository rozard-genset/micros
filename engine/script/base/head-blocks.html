<!-- globvar -->
{{- $themes := partial "lib/system/themes.html" . -}}
{{- $sected := partial "lib/system/module.html" . -}}


<!-- storing -->
{{- $link_css := .Store.Get "head_css" -}}
{{- $link_jsx := .Store.Get "head_jsx" -}}



{{- if .Page.Params.Blocks -}}{{- range .Page.Params.Blocks  -}}


    <!-- modeling -->
    {{- $based_css := printf "scripts/blocks/%s/%s/%s/css/head.scss" .render.type .render.pool .render.name -}}
    {{- $based_jsx := printf "scripts/blocks/%s/%s/%s/jsx/head.js"   .render.type .render.pool .render.name -}}

    {{- $theme_css := printf "scripts/themes/%s/blocks/%s/%s/%s/css/head.scss" $themes .render.type .render.pool .render.name -}}
    {{- $theme_jsx := printf "scripts/themes/%s/blocks/%s/%s/%s/jsx/head.js"   $themes .render.type .render.pool .render.name -}}

    {{- $modul_css := printf "scripts/sected/%s/blocks/%s/%s/%s/css/head.scss" $sected .render.type .render.pool .render.name -}}
    {{- $modul_jsx := printf "scripts/sected/%s/blocks/%s/%s/%s/jsx/head.js"   $sected .render.type .render.pool .render.name -}}

    {{- $skins_css := printf "scripts/themes/%s/sected/%s/blocks/%s/%s/css/head.scss" $themes $sected .scope .render -}}
    {{- $skins_jsx := printf "scripts/themes/%s/sected/%s/blocks/%s/%s/jsx/head.js"   $themes $sected .scope .render -}}
    

    <!-- appended -->
    {{- range (slice $based_css $theme_css $modul_css $skins_css ) -}}
        {{- with resources.Get . -}}{{- $link_css = $link_css | append . -}}{{- end -}}
    {{- end -}}

    {{- range (slice $based_jsx $theme_jsx $modul_jsx $skins_jsx ) -}}
        {{- with resources.Get . -}}{{- $link_jsx = $link_jsx | append . -}}{{- end -}}
    {{- end -}}


{{- end -}}{{- end -}}


<!-- stroringer -->
{{- .Store.Add "head_css" $link_css -}}
{{- .Store.Add "head_jsx" $link_jsx -}}