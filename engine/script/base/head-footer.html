<!-- globvar -->
{{- $themes := partial "lib/system/themes.html" . -}}
{{- $sected := partial "lib/system/module.html" . -}}
{{- $layout := "main" -}}{{- with .Site.Params.System.Parted.Footer -}}{{- $layout  = . -}}{{- end -}}


<!-- storing -->
{{- $link_css := resources.Get "scripts/parted/footer/main/css/head.scss" -}}
{{- $link_jsx := resources.Get "scripts/parted/footer/main/jsx/head.jsx"  -}}


<!-- modeling -->
{{- $protos_model_css := printf "scripts/parted/footer/%s/css/head.scss" $layout  -}}
{{- $protos_model_jsx := printf "scripts/parted/footer/%s/jsx/head.js"   $layout  -}}

{{- $themes_based_css := printf "scripts/themes/%s/parted/footer/main/css/head.scss" $themes -}}
{{- $themes_based_jsx := printf "scripts/themes/%s/parted/footer/main/jsx/head.js"   $themes -}}

{{- $themes_model_css := printf "scripts/themes/%s/parted/footer/%s/css/head.scss"  $themes $layout  -}}
{{- $themes_model_jsx := printf "scripts/themes/%s/parted/footer/%s/jsx/head.js"    $themes $layout  -}}

{{- $module_based_css := printf "scripts/sected/%s/footer/main/css/head.scss" $sected  -}}
{{- $module_based_jsx := printf "scripts/sected/%s/footer/main/jsx/head.js"   $sected  -}}

{{- $module_model_css := printf "scripts/sected/%s/footer/%s/css/head.scss"  $sected  $layout  -}}
{{- $module_model_jsx := printf "scripts/sected/%s/footer/%s/jsx/head.js"    $sected  $layout  -}}


<!-- appended -->
{{- range ( slice $protos_model_css $themes_based_css $themes_model_css $module_based_css $module_model_css ) -}}
    {{- with resources.Get . -}}{{- $link_css = . -}}{{- end -}}
{{- end -}}

{{- range ( slice $protos_model_jsx $themes_based_jsx $themes_model_jsx $module_based_jsx $module_model_jsx ) -}}
    {{- with resources.Get . -}}{{- $link_jsx = . -}}{{- end -}}
{{- end -}}


<!-- register -->
{{- .Store.Add "head_css" $link_css -}}
{{- .Store.Add "head_jsx" $link_jsx -}}